@using TechStoreApp.Web.ViewModels.Orders
@model OrderFinalizedPageViewModel

<head>
    <link rel="stylesheet" href="~/css/finalize-order-page.css" />
    <title>Finalize</title>
</head>


<div class="order-details">
    @{
        foreach (var item in Model.Cart.CartItems)
        {
            <div class="item-info-container">
                <img src="@item.Product.ImageUrl" onerror="invalidPhoto(this)">
                <p>@item.Product.Name</p>
                <p>@item.Quantity</p><p> x </p><p>$@item.Product.Price.</p>
            </div>
        }
        <p class="total-price"></p>
    }

    <div id="send-order-div">
        <form class="d-flex flex-column" id="send-order-form" asp-controller="Order" asp-action="SendOrder" method="post">
            @* Address *@
            <input type="text" asp-for="Address.Country" value="@Model.Address.Country" disabled>
            <input type="text" asp-for="Address.City" value="@Model.Address.City" disabled>
            <input type="text" asp-for="Address.PostalCode" value="@Model.Address.PostalCode" disabled>
            <input type="text" asp-for="Address.Details" value="@Model.Address.Details" disabled>

            @* Cost *@
            <input type="text" asp-for="TotalSum" value="@Model.TotalSum" disabled>

            @* Payment *@
            <input type="hidden" asp-for="PaymentId" value="@Model.PaymentId" disabled>
            <input type="hidden" asp-for="PaymentMethod" value="@Model.PaymentMethod" disabled>

            <button type="submit">Send Order</button>
        </form>
    </div>
</div>

<div class="d-flex justify-content-center">
    <button class="btn btn-secondary" onclick="window.history.back()">Go back</button>
</div>

